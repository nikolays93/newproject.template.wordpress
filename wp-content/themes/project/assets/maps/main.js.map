{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["jQuery(document).ready(function($) {\r\n    // @see about https://github.com/wilddeer/stickyfill\r\n    // Sticky removed in favour native css\r\n\r\n    var Plugins = {\r\n        appearJs: false, // || true,\r\n        countTo: false, // || '.counter',\r\n    }\r\n\r\n    // Do you want some animate?\r\n    // new WOW().init();\r\n\r\n    if( Plugins.appearJs ) {\r\n        if( Plugins.countTo ) {\r\n            $( Plugins.countTo ).appear();\r\n            $( Plugins.countTo ).on(\"appear\", function(event, $all_appeared_elements) {\r\n                if( ! $(this).data(\"appeared\") )\r\n                    $(this).countTo();\r\n\r\n                $(this).data(\"appeared\", 1);\r\n            });\r\n            // $(Plugins.countTo).on('disappear', function(event, $all_disappeared_elements) {\r\n            // });\r\n        }\r\n    }\r\n    else if( Plugins.countTo ) {\r\n        $( Plugins.countTo ).countTo();\r\n    }\r\n\r\n    window.scrollTo = function(selector, topOffset, delay) {\r\n        if( !selector || selector.length <= 1 ) return;\r\n\r\n        if( !topOffset ) topOffset = 40;\r\n        if( !delay ) delay = 500;\r\n\r\n        // try get jQuery object by selector\r\n        var $obj = $( selector ),\r\n        // try get by classic anchors (if is not found)\r\n            offset = ($obj.length && $obj.offset()) || $('a[name='+selector.slice(1)+']').offset()\r\n\r\n        if( offset ) {\r\n            $('html, body').animate({ scrollTop: offset.top - topOffset }, delay);\r\n        }\r\n        // not found\r\n        else {\r\n            console.log('Element not exists.');\r\n        }\r\n    }\r\n\r\n    /******************************** Fancybox ********************************/\r\n    /**\r\n     * Fancybox preloader\r\n     */\r\n    var preloaderClass = 'fb-loading';\r\n    window.showPreloader = function( message ) {\r\n        if( !$.fancybox ) return false;\r\n        if(!message) message = 'Загрузка..';\r\n        var $preload = $('<p>'+ message +'</p>').css({\r\n            'margin-top': '50px',\r\n            'margin-bottom': '-40px',\r\n            'padding-bottom': '',\r\n            'color': '#ddd'\r\n        });;\r\n\r\n        var $body = $('body');\r\n\r\n        $.fancybox.open({\r\n            content  : $preload,\r\n            type     : 'html',\r\n            smallBtn : false,\r\n            buttons : [\"close\"],\r\n            afterLoad: function(instance, current) {\r\n                $('.fancybox-content', instance.$refs['fancybox-stage']).css('background', 'none');\r\n            },\r\n            afterShow: function(instance, current) {\r\n                $body.addClass(preloaderClass);\r\n                instance.showLoading( current );\r\n            },\r\n            afterClose: function(instance, current) {\r\n                $body.removeClass(preloaderClass);\r\n                instance.hideLoading( current );\r\n            }\r\n        });\r\n    };\r\n\r\n    window.hidePreloader = function() {\r\n        if( !$.fancybox ) return false;\r\n        var $body = $('body');\r\n\r\n        if( $body.hasClass(preloaderClass) ) {\r\n            $.fancybox.getInstance().close();\r\n        }\r\n    };\r\n\r\n    /********************************* Slick **********************************/\r\n    window.slickSlider = function(target, props) {\r\n        var _defaults = {\r\n            autoplay: true,\r\n            autoplaySpeed: 4000,\r\n            dots: true,\r\n            infinite: false,\r\n            slidesToShow: 4,\r\n            slidesToScroll: 4,\r\n            responsive: [\r\n            {\r\n                breakpoint: 576,\r\n                settings: {}\r\n            },\r\n            ]\r\n        };\r\n\r\n        try {\r\n            if( !props ) props = {};\r\n            this.props = Object.assign(_defaults, props);\r\n        } catch(e) {\r\n            console.log('Init props is demaged.');\r\n            this.props = _defaults;\r\n        }\r\n\r\n        this.$slider = $( target );\r\n        this.isInit = false;\r\n    }\r\n\r\n    window.slickSlider.prototype = {\r\n        init: function( minWidth ) {\r\n            if( !this.$slider.length ) return false;\r\n\r\n            try {\r\n                if( !this.isInit ) {\r\n                    if( undefined !== this.$slider.slick ) {\r\n                        this.$slider.slick( this.props );\r\n                        this.isInit = this.$slider.hasClass('slick-initialized');\r\n                    }\r\n                    else {\r\n                        console.error('Slick library is not available!');\r\n                    }\r\n                }\r\n            } catch(e) {\r\n                console.error(e);\r\n            }\r\n        },\r\n        responsive: function( minWidth ) {\r\n            var self = this;\r\n\r\n            if( !minWidth ) minWidth = 992;\r\n            if( !this.$slider.length ) return false;\r\n\r\n            $(window).on('load resize', function(e) {\r\n                if( minWidth < $(window).width() ) {\r\n                    if( self.isInit ) {\r\n                        self.$slider.slick('unslick');\r\n                        self.isInit = false;\r\n                    }\r\n                }\r\n                else {\r\n                    self.init();\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    var slick = new slickSlider('.slider', {slidesToShow: 3, slidesToScroll: 1, responsive: [{\r\n            breakpoint: 576,\r\n            settings: {\r\n                slidesToShow: 1\r\n            }\r\n        }]});\r\n    slick.responsive();\r\n\r\n    /********************************* Custom *********************************/\r\n    // On front page only\r\n    if( 3 == window.location.href.match(/\\//g).length ) {\r\n        // Preloader demonstration\r\n        showPreloader( 'What is love?' );\r\n\r\n        // Hide after 3 sec\r\n        setTimeout(function() {\r\n            hidePreloader();\r\n\r\n            // $.fancybox.open({\r\n            //     content  : 'Hello world!',\r\n            //     type     : 'html',\r\n            // });\r\n        }, 3000);\r\n    }\r\n});"],"file":"../main.js"}